/*! For license information please see 9b1a58cb.c46a1999.js.LICENSE.txt */
(self.webpackChunkjest_a11y=self.webpackChunkjest_a11y||[]).push([[803],{6377:(e,t,n)=>{"use strict";n.d(t,{S_:()=>f,Ui:()=>d});var a=n(7462),r=n(7294),i=function(e){var t=e.color,n=e.size,a=void 0===n?80:n;return r.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 81.33408546987926 80.76119836334146",width:a,style:{color:t},height:a},r.createElement("g",{strokeLinecap:"round"},r.createElement("g",{transform:"translate(71.54317543189973 10.981556692346885) rotate(0 -30.8761326969601 29.399042489323847)"},r.createElement("path",{d:"M-0.21 -0.98 C-3.22 6.64, -6.94 36.47, -17.05 46.46 C-27.17 56.46, -53.42 56.6, -60.89 58.99 M-1.78 1.12 C-5.03 8.83, -8 37.92, -17.96 47.7 C-27.92 57.47, -54.19 57.94, -61.54 59.78",stroke:"currentColor",strokeWidth:"2",fill:"none"})),r.createElement("g",{transform:"translate(71.54317543189973 10.981556692346885) rotate(0 -30.8761326969601 29.399042489323847)"},r.createElement("path",{d:"M-60.87 59.42 L-50.49 52.9 L-46.69 65.8 L-63.12 57.84",stroke:"none",strokeWidth:"0",fill:"currentColor",fillRule:"evenodd"}),r.createElement("path",{d:"M-62.77 59.88 C-57.48 56.9, -53.19 52.46, -47.97 50.6 M-61.42 59.93 C-58.38 57.75, -55.67 55.81, -49.09 52.02 M-48.77 50.82 C-47.3 55.69, -48.34 58.84, -48.3 63.79 M-49.52 51.04 C-48.67 55.1, -47.62 58.61, -46.64 64.59 M-46.42 64.71 C-53.78 63.64, -56.95 59.71, -60.46 59.34 M-46.85 64.66 C-50.78 63.04, -54.9 61.43, -60.84 60.21 M-61.54 59.78 C-61.54 59.78, -61.54 59.78, -61.54 59.78 M-61.54 59.78 C-61.54 59.78, -61.54 59.78, -61.54 59.78",stroke:"currentColor",strokeWidth:"2",fill:"none"}))))},l=function(e){var t=e.color,n=e.size,a=(0,r.useContext)(d),l=a.exampleText,s=void 0===l?{text:null}:l,o=a.tooltip,c=(0,r.useState)(s.text),u=c[0],m=c[1],p=(0,r.useRef)(null),h=(0,r.useRef)(null),f=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e,t,n,a=(null==(e=f.current)||null==(t=e.getBoundingClientRect())?void 0:t.height)||0,r=h.current;r&&(r.classList.add("fade-in"),null==(n=p.current)||n.classList.add("fade-in"),r.style.transform="scale(1.5)",r.style.transition="ease-out 640ms max-height",requestAnimationFrame((function(){var e;r.classList.remove("fade-in"),null==(e=p.current)||e.classList.remove("fade-in"),r.style.maxHeight=a+"px",r.style.transition="",r.style.transform=""})),m(s.text))})),o&&s.text?r.createElement("div",{className:"arrow-pointer",style:{transform:"translateY("+s.transformY+"px)"}},r.createElement("div",{className:"arrow-text",key:"my-arrow-text",ref:h},r.createElement("div",null,u)),r.createElement("div",{className:"arrow-text",ref:f,style:{visibility:"hidden"}},s.text),r.createElement("div",{className:"arrow-wrapper",ref:p},r.createElement(i,{color:t,size:n})),r.createElement("div",null)):null},s=function(e){var t=e.id,n=e.label,a=e.max,i=e.min,l=e.onChange,s=e.value;return r.createElement("div",null,n?r.createElement("div",{className:"slider-label"},r.createElement("label",{htmlFor:t},n,":"),r.createElement("div",null,s)):null,r.createElement("input",{"aria-label":"slider",className:"slider",id:t,max:a,min:i,onChange:function(e){l(parseInt(e.currentTarget.value,10))},role:"slider",style:{"--percent-value":s/a+"%"},tabIndex:0,type:"range",value:s}))},o=function(e){var t=e.label,n=e.type,a=e.value;return"slider"===n?r.createElement(s,{id:t,label:t,max:10,min:0,onChange:function(){},value:a}):r.createElement("span",null,JSON.stringify({type:n,value:a}))},c=n(6906),u=function(e){var t=e.onClick;return r.createElement("svg",{onClick:t,xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 18 18",fill:"none"},r.createElement("path",{d:"M8.25 3.75L4.5 6.75H1.5V11.25H4.5L8.25 14.25V3.75Z",fill:"currentColor"}),r.createElement("path",{d:" M14.3025 3.69751 C15.7086 5.10397 16.4984 7.01128 16.4984 9.00001 C16.4984 10.9887 15.7086 12.8961 14.3025 14.3025 ",stroke:"currentColor"}),r.createElement("path",{d:" M11.655 6.34501 C12.358 7.04824 12.753 8.00189 12.753 8.99626 C12.753 9.99063 12.358 10.9443 11.655 11.6475 ",stroke:"currentColor"}))},d=r.createContext({actions:[],addControl:function(){},controls:[],getControlValue:function(){},setAccessibleLabel:function(){},setActions:function(){},setExampleText:function(){},setTooltip:function(){},tooltip:!0}),m=function(e){var t=e.children,n=(0,r.useState)([]),a=n[0],i=n[1],l=(0,r.useState)([]),s=l[0],o=l[1],c=(0,r.useState)(),u=c[0],m=(c[1],(0,r.useState)()),p=m[0],h=(m[1],(0,r.useState)(!0)),f=h[0],v=h[1],g=(0,r.useCallback)((function(e){return o((function(t){return[].concat(t,[e])}))}),[o]),k=(0,r.useCallback)((function(){}),[]);return r.createElement(d.Provider,{value:{accessibleLabel:u,actions:a,addControl:g,controls:s,exampleText:p,getControlValue:k,setAccessibleLabel:function(){},setActions:i,setExampleText:function(){},setTooltip:v,tooltip:f}},t)},p=function(){var e=r.useContext(d).controls;return r.createElement("div",{className:"example-controls"},e.map((function(e,t){return r.createElement(o,(0,a.Z)({key:t},e))})))},h=function(){var e=r.useContext(d),t=e.actions,n=e.accessibleLabel;return r.createElement("div",{className:"example-actions"},n?r.createElement("div",{style:{alignItems:"center",display:"inline-flex",gap:"4px"}},r.createElement("div",{className:"audio-btn"},r.createElement(u,{onClick:function(){var e=new SpeechSynthesisUtterance(n);speechSynthesis.speak(e)}})),r.createElement("span",null,r.createElement("strong",null,"Accessible Label: "),n)):null,t.length>0&&r.createElement("div",null,r.createElement(c.a,{items:t})))},f=function(e){var t=e.height,n=e.size,a=void 0===n?1:n,i=e.children;return r.createElement(m,null,r.createElement("div",{className:"example-wrapper"},r.createElement("div",{className:"example centered",style:{"--arrow-size":"40px","--grid-size":a+"fr",height:t}},r.createElement("div",{className:"left"}),r.createElement("div",{className:"center"},i),r.createElement("div",{className:"right"},r.createElement(l,{color:"var(--purple)",size:40})))),r.createElement(p,null),r.createElement(h,null))}},6906:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var a=n(7294),r=function(e){var t=e.items;return a.createElement("ul",{className:"list"},t.map((function(e,t){return a.createElement("li",{key:"item-"+t},a.createElement("div",{className:"li-icon"},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"var(--greySecondary)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),a.createElement("polyline",{points:"12 5 19 12 12 19"}))),a.createElement("div",null,e))})))}},4514:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});var a=n(7294),r=function(e){var t=e.addChecks,n=void 0===t||t,r=e.list,i=void 0===r?[]:r,l=e.showTotal,s=function(e){var t=0,n=0;return e.forEach((function(e){e.includes("\u2713")&&t++,(e.includes("\u2713")||e.includes("\u2715"))&&n++})),{failed:n-t,passed:t,total:n}}(i),o=s.failed,c=s.passed,u=s.total;return a.createElement("div",{className:"test-summary codeBlockContent_",style:{"--prism-color":"#F8F8F2","--prism-background-color":"#282A36"}},a.createElement("pre",{className:"prism-code language-html codeBlock_ thin-scrollbar"},a.createElement("code",{className:"codeBlockLines_"},a.createElement("ul",{style:{margin:0,listStyleType:"none",padding:0}},i.filter((function(e){return n||((t=e).includes("\u2713")||t.includes("\u2715"));var t})).map((function(e){var t,r=n?"code-block-test-pass":(t=e).includes("\u2713")?"code-block-test-pass":t.includes("\u2715")?"code-block-test-fail":"";return a.createElement("li",{className:"token-line "+r,key:e,style:{color:"rgb(248, 248, 242)"}},n?a.createElement("span",{className:"token plain"},a.createElement("i",{"aria-hidden":"true",className:"fa-solid fa-check",style:{color:"var(--green)",fontSize:"80%"}})," ",e):a.createElement("span",{className:"token plain"},e),a.createElement("br",null))}))),l&&a.createElement(a.Fragment,null,a.createElement("br",null),"\xa0 Tests:"," ",o?a.createElement(a.Fragment,null,a.createElement("strong",{className:"failed"},o," failed"),","," "):null,a.createElement("strong",null,c," passed"),", ",u," total"))))}},4968:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>z,contentTitle:()=>j,default:()=>Y,frontMatter:()=>W,metadata:()=>H,toc:()=>D});var a,r=n(7462),i=n(3366),l=n(7294),s=n(3905),o=n(5488),c=n(5162),u=n(6377),d=n(4514),m=n(4165),p=n(5861),h=n(412),f=n(3618),v=n(5210);h.Z.canUseDOM&&(a=document.createElement("div"));var g=function(e){var t=e.code,n=e.matcher,r=e.title,i=(0,l.useState)(t),s=i[0],o=i[1],c=[];return(0,l.useEffect)((function(){var e=function(){var e=(0,p.Z)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return a.innerHTML=s,e.next=4,n(a);case 4:c=e.sent.message().split("\n");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),l.createElement(v.nu,{code:s,language:"jsx",theme:f.Z},l.createElement("div",{className:"test-runner with-title"},r&&l.createElement("div",{className:"test-runner-title"},r),l.createElement(v.uz,{autoFocus:!1,className:"live-editor",onChange:o}),l.createElement(d.Y,{addChecks:!1,list:c,showTotal:!0}),l.createElement(v.IF,{className:"test-runner-error"})))},k=n(7855),b=n(6541),w=n(8754),x=n(213);function E(e,t){var n=void 0===t?{}:t,a=n.show,r=void 0===a?[]:a,i=n.length,l=void 0===i?60:i;return e.outerHTML.length>l?"<"+e.tagName.toLowerCase()+" "+r.map((function(t){return t+'="'+e.getAttribute(t)+'"'})).join(" ")+"...>"+e.innerHTML+"</"+e.tagName.toLowerCase()+">":e.outerHTML}var y=function(e,t){var n=void 0===t?{}:t,a=n.expected,r=n.hints,i=n.received,l=x.JP("\u2715")+" "+x.VA(e)+(null!=r&&r.length?"\n\n  "+r:"")+"\n";return(a||i)&&(l+="\n"),a&&(l+="  Expected: "+x.Xi(a)+"\n"),i&&(l+="  Received: "+x.pH(i)+"\n\n"),l},N=function(e){return x.yA("\u2713")+" "+x.VA(e)+"\n"},A=function(e,t){var n=t.element;return"\n"+(t.pass?x.yA:x.JP)("\u25cf")+" Testing: "+E(n)+"\n\n"+e},C=function(){var e=(0,p.Z)((0,m.Z)().mark((function e(t){var n,a,r,i,l,s;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.element,a=t.message,r=t.userEvent,i="",l=!0,e.abrupt("return",{message:function(){return"element has attribute aria-expanded"},pass:n.hasAttribute("aria-expanded")});case 5:return s="true"===n.getAttribute("aria-expanded"),e.next=8,r();case 8:return n.getAttribute("aria-expanded")===(!s).toString()?i+=N(a||"aria-expanded toggled"):(i+=y(a||"aria-expanded toggled",{expected:"aria-expanded='"+!s+"'",received:n}),l=!1),e.abrupt("return",{message:function(){return i},pass:l});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){var t=e.attribute,n=e.element,a=e.elementName,r=void 0===a?"element":a,i=e.message,l=e.value,s="",o=!0,c="function"==typeof l?l:function(e){return e===l};return n.hasAttribute(t)?l&&c(n.getAttribute(t)||"")?s+=N(r+" "+(i||"has "+t+'="'+l+'"')):l?(s+=y(r+" "+(i||"has "+t+'="'+l+'"'),{expected:"function"==typeof l?void 0:l,received:n.getAttribute(t)}),o=!1):s+=N(r+" "+(i||"has attribute "+t)):(s+=y(r+" "+(i||"has attribute "+t),{received:n}),o=!1),{message:function(){return s},pass:o}},S=function(e){var t=e.description,n=e.element,a=e.message,r=e.test,i="",l=!0,s=function(e,t){for(var n=e;n;){if(t(n))return n;n=n.parentElement}return null}(n,r);return s?i+=N(a||"element is wrapped in an element "+t):(i+=y(a||"element is wrapped in an element "+t),l=!1),{closest:s,message:function(){return i},pass:l}};function I(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");var t,n=String(e),a=n.length,r=-1,i="",l=n.charCodeAt(0);if(1==a&&45==l)return"\\"+n;for(;++r<a;)0!=(t=n.charCodeAt(r))?i+=t>=1&&t<=31||127==t||0==r&&t>=48&&t<=57||1==r&&t>=48&&t<=57&&45==l?"\\"+t.toString(16)+" ":t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122?n.charAt(r):"\\"+n.charAt(r):i+="\ufffd";return i}function L(e){return Z.apply(this,arguments)}function Z(){return Z=(0,p.Z)((0,m.Z)().mark((function e(t){var n,a,r,i,l,s,o;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=w.Z.setup(),a="",r=!0,(i=(0,b.uh)(t).queryAllByRole("button")).length){e.next=6;break}return e.abrupt("return",{pass:!1,message:function(){return y("No elements with role button found",{received:t})}});case 6:l=(0,m.Z)().mark((function e(){var i,l,s,c,u,d,h,f;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.value,l="",s=!0,c=S({description:"with role heading",element:i,test:function(e){return"h1h2h3h4h5h6".includes(e.tagName.toLowerCase())||"heading"===e.getAttribute("role")}}),l+="  "+c.message(),s=!!s&&c.pass,c.closest&&!"h1h2h3h4h5h6".includes(c.closest.tagName.toLowerCase())?(u=T({attribute:"aria-level",element:c.closest,message:"is wrapped in an element with aria-level"}),l+="  "+u.message(),s=!1!==s&&u.pass):l+="  "+N("element is wrapped in an element with aria-level"),d=T({attribute:"aria-controls",element:i,message:"has attribute aria-controls",value:function(e){return!!t.querySelector("#"+I(e))}}),l+="  "+d.message(),s=!1!==s&&d.pass,e.next=12,C({element:i,message:"aria-expanded toggled on Enter",userEvent:function(){var e=(0,p.Z)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.focus(),e.next=3,n.keyboard("{Enter}");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 12:return h=e.sent,l+="  "+h.message(),s=!1!==s&&h.pass,e.next=17,C({element:i,message:"aria-expanded toggled on Space",userEvent:function(){var e=(0,p.Z)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.focus(),e.next=3,n.keyboard(" ");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 17:f=e.sent,l+="  "+f.message(),s=!1!==s&&f.pass,a+=A(l,{element:i,pass:s}),r=!1!==s&&r;case 22:case"end":return e.stop()}}),e)})),s=(0,k.Z)(i);case 8:if((o=s()).done){e.next=12;break}return e.delegateYield(l(),"t0",10);case 10:e.next=8;break;case 12:return e.abrupt("return",{pass:r,message:function(){return a}});case 13:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}var M=function(){return l.createElement(g,{className:"accordion",matcher:L,title:"Accordion",code:'<div className="accordion">\n  <h3>\n    <button aria-controls="panel-1">\n      Accordion Item 1\n    </button>\n    <div id="panel-1"></div>\n  </h3>\n</div>'})},B=["onFocus"],F=function(e){var t=e.btnId,n=e.buttonProps,a=n.onFocus,s=(0,i.Z)(n,B),o=e.children,c=e.id,d=e.title,m=l.useState(!1),p=m[0],h=m[1],f=(0,l.useContext)(u.Ui).setAccessibleLabel;return l.createElement(l.Fragment,null,l.createElement("h3",null,l.createElement("button",(0,r.Z)({"aria-expanded":p,"aria-controls":c,id:t,onClick:function(){return h(!p)},onFocus:function(e){f(d),a&&a(e)}},s),l.createElement("span",null,d))),l.createElement("div",{"aria-hidden":!p,"aria-labelledby":t,className:"panel "+(p?"open":""),id:c,role:"region"},l.createElement("div",{className:"panel-content"},o)))},R=function(e){var t=e.id,n=(0,l.useContext)(u.Ui),a=n.setAccessibleLabel,r=n.setExampleText,i=n.setTooltip;return(0,l.useEffect)((function(){r(l.createElement(l.Fragment,null,l.createElement("kbd",null,"Tab")," should focus the first accordion item"),{transformY:-45})}),[]),l.createElement("div",{className:"accordion","data-testid":t},l.createElement(F,{btnId:"accordion1id",id:"sect1",buttonProps:{onFocus:function(){return r(l.createElement(l.Fragment,null,l.createElement("kbd",null,"Tab")," to navigate to the next item"))}},title:"Section 1"},"Item 1"),l.createElement(F,{btnId:"accordion1id",id:"sect1",buttonProps:{onFocus:function(){return r(l.createElement(l.Fragment,null,l.createElement("kbd",null,"Enter")," or ",l.createElement("kbd",null,"Space")," will expand the accordion panel. Make this very long so that it wraps even more."),{transformY:0})},onKeyDown:function(e){"Tab"===e.key&&(a(void 0),i(!1))}},title:"Section 2"},"Item 2"))},P=["components"],W={id:"accordion",title:"toBeAccessibleAccordion()"},j=void 0,H={unversionedId:"matchers/accordion",id:"matchers/accordion",title:"toBeAccessibleAccordion()",description:"An accordion is a vertically stacked set of interactive headings that each contain a title, content snippet, or thumbnail representing a section of content.",source:"@site/docs/matchers/to-be-accessible-accordion.md",sourceDirName:"matchers",slug:"/matchers/accordion",permalink:"/jest-a11y/matchers/accordion",draft:!1,tags:[],version:"current",frontMatter:{id:"accordion",title:"toBeAccessibleAccordion()"},sidebar:"sidebar",previous:{title:"Summary",permalink:"/jest-a11y/matchers/"},next:{title:"toBeAccessibleAlertDialog()",permalink:"/jest-a11y/matchers/alertdialog"}},z={},D=[{value:"Usage",id:"usage",level:2},{value:"Syntax",id:"syntax",level:3},{value:"Test Summary",id:"test-summary",level:2},{value:"Known Limitations",id:"known-limitations",level:4},{value:"WAI-ARIA Roles, States, and Properties",id:"wai-aria-roles-states-and-properties",level:3},{value:"Keyboard Interaction",id:"keyboard-interaction",level:3},{value:"Playground",id:"playground",level:2},{value:"External Resources",id:"external-resources",level:2},{value:"Web Accessibility Initiative",id:"web-accessibility-initiative",level:4}],U={toc:D};function Y(e){var t=e.components,n=(0,i.Z)(e,P);return(0,s.kt)("wrapper",(0,r.Z)({},U,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("div",{className:"intro-text"},"An ",(0,s.kt)("strong",null,"accordion")," is a vertically stacked set of interactive headings that each contain a title, content snippet, or thumbnail representing a section of content."),(0,s.kt)("p",null,"The headings function as controls that enable users to reveal or hide their associated sections of content."),(0,s.kt)(u.S_,{height:"340px",mdxType:"ExampleContainer"},(0,s.kt)(R,{mdxType:"Accordion"})),(0,s.kt)("h2",{id:"usage"},"Usage"),(0,s.kt)("p",null,"The ",(0,s.kt)("inlineCode",{parentName:"p"},"toBeAccessibleAccordion")," matcher should be called on the HTML element wrapped around the interactive headings and their content. It will find each accordion header item and verify that it has ",(0,s.kt)("inlineCode",{parentName:"p"},'role="button"')," and is wrapped in a heading element."),(0,s.kt)("h3",{id:"syntax"},"Syntax"),(0,s.kt)("p",null,"To use the matcher pass a valid HTML element to the ",(0,s.kt)("inlineCode",{parentName:"p"},"expect")," function and verify its DOM output and keyboard interactions with ",(0,s.kt)("inlineCode",{parentName:"p"},"toBeAccessibleAccordion()"),"."),(0,s.kt)(o.Z,{mdxType:"Tabs"},(0,s.kt)(c.Z,{value:"js",label:"JS",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-jsx"},"test('accordion', () => {\n  document.body.innerHTML = `\n    <div id=\"accordion\">\n      <h3>\n        <button ...>\n          Item 1\n        </button>\n      </h3>\n      <div id=\"panel\">Accordion Panel 1</div>\n    </div>`\n\n  // highlight-next-line\n  expect(document.getElementById('accordion')).toBeAccessibleAccordion()\n})\n"))),(0,s.kt)(c.Z,{default:!0,label:"React",value:"react",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-jsx"},"import { render, screen } from '@testing-library/react'\n\ntest('accordion', () => {\n  render(<Accordion id=\"accordion\">...</Accordion>)\n\n  // highlight-next-line\n  expect(screen.getByTestId('accordion')).toBeAccessibleAccordion()\n})\n")))),(0,s.kt)("h2",{id:"test-summary"},"Test Summary"),(0,s.kt)("p",null,"The ",(0,s.kt)("inlineCode",{parentName:"p"},"toBeAccessibleAccordion")," matcher will loop through the accordion items and test the following for each:"),(0,s.kt)(d.Y,{list:["element is wrapped in an element with role heading","element is wrapped in an element with aria-level","element has attribute aria-controls","aria-expanded toggled on Enter","aria-expanded toggled on Space"],mdxType:"TestSummary"}),(0,s.kt)("h4",{id:"known-limitations"},"Known Limitations"),(0,s.kt)("p",null,"There are many ways in which an element can be hidden in the UI. Because of this, there is no consistent way for us to test whether the value of the ",(0,s.kt)("inlineCode",{parentName:"p"},"aria-expanded")," tag is in sync with the visibility of its content panel."),(0,s.kt)("admonition",{title:"Not tested",type:"caution"},(0,s.kt)("p",{parentName:"admonition"},"If the accordion panel associated with an accordion header is visible, the header button element has ",(0,s.kt)("inlineCode",{parentName:"p"},'aria-expanded="true"'),". If the panel is not visible, ",(0,s.kt)("inlineCode",{parentName:"p"},"aria-expanded")," is set to false.")),(0,s.kt)("h3",{id:"wai-aria-roles-states-and-properties"},"WAI-ARIA Roles, States, and Properties"),(0,s.kt)("p",null,"Each accordion item will be composed of the following:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"A ",(0,s.kt)("span",{className:"handwritten"},"heading")," element."),(0,s.kt)("li",{parentName:"ul"},"A ",(0,s.kt)("span",{className:"handwritten"},"button")," element."),(0,s.kt)("li",{parentName:"ul"},"A ",(0,s.kt)("span",{className:"handwritten"},"content")," element.")),(0,s.kt)("p",null,"The elements will be checked for the following when passed through the matcher:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"The title of each accordion item is contained in a ",(0,s.kt)("span",{className:"handwritten"},"button")," element."),(0,s.kt)("li",{parentName:"ul"},"Each ",(0,s.kt)("span",{className:"handwritten"},"button")," is wrapped in a ",(0,s.kt)("span",{className:"handwritten"},"heading")," that has a value set for ",(0,s.kt)("code",null,"aria-level")," that is appropriate for the information architecture of the page"),(0,s.kt)("li",{parentName:"ul"},"The ",(0,s.kt)("span",{className:"handwritten"},"button")," has ",(0,s.kt)("code",null,"aria-controls")," set to the ID of the ",(0,s.kt)("span",{className:"handwritten"},"content")," element."),(0,s.kt)("li",{parentName:"ul"},"If the ",(0,s.kt)("span",{className:"handwritten"},"content")," associated with an accordion item is visible, the ",(0,s.kt)("span",{className:"handwritten"},"button")," element has ",(0,s.kt)("code",null,'aria-expanded="true"'),". If the panel is not visible, ",(0,s.kt)("code",null,'aria-expanded="false"'),".")),(0,s.kt)("h3",{id:"keyboard-interaction"},"Keyboard Interaction"),(0,s.kt)("p",null,"Each ",(0,s.kt)("span",{className:"handwritten"},"button")," element in an accordion should be part of the tab sequence and can be activated with the keyboard to show or hide its contents."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"The ",(0,s.kt)("span",{className:"handwritten"},"button")," can receive focus."),(0,s.kt)("li",{parentName:"ul"},"When the ",(0,s.kt)("span",{className:"handwritten"},"button")," has focus, ",(0,s.kt)("kbd",null,"Space")," or ",(0,s.kt)("kbd",null,"Enter")," toggles ",(0,s.kt)("inlineCode",{parentName:"li"},"aria-expanded")," on the ",(0,s.kt)("span",{className:"handwritten"},"button")," and the visibility of the ",(0,s.kt)("span",{className:"handwritten"},"content"),"."),(0,s.kt)("li",{parentName:"ul"},"If the ",(0,s.kt)("span",{className:"handwritten"},"content")," is visible, and the user presses ",(0,s.kt)("kbd",null,"Tab"),", focus will move to the first tabbable element within the ",(0,s.kt)("span",{className:"handwritten"},"content"),".")),(0,s.kt)("h2",{id:"playground"},"Playground"),(0,s.kt)("p",null,"Test out the DOM structure of an accordion element here:"),(0,s.kt)("admonition",{title:"Note",type:"caution"},(0,s.kt)("p",{parentName:"admonition"},"This Playground does not test any keyboard interactions")),(0,s.kt)(M,{mdxType:"AccordionTestRunner"}),(0,s.kt)("h2",{id:"external-resources"},"External Resources"),(0,s.kt)("h4",{id:"web-accessibility-initiative"},"Web Accessibility Initiative"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://www.w3.org/WAI/ARIA/apg/patterns/accordion/"},"WAI Accordion Pattern")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://www.w3.org/WAI/ARIA/apg/example-index/accordion/accordion.html"},"Accordion Example"))))}Y.isMDXComponent=!0},4654:()=>{}}]);